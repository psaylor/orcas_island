!function(a,b){"use strict";if("function"==typeof define&&define.amd)define(["ractive"],b);else if("undefined"!=typeof module&&module.exports&&"function"==typeof require)module.exports=b(require("ractive"),require("fs"),require("path"));else{if(!a.Ractive)throw new Error("Could not find Ractive! It must be loaded before the Ractive.load plugin");b(a.Ractive)}}("undefined"!=typeof window?window:this,function(a,b){"use strict";var c=function(){var a,b=function(a){var b,c,d;return b=a.split("/"),c=b.pop(),d=c.lastIndexOf("."),-1!==d&&(c=c.substr(0,d)),c},c=function(b){function c(a){return a.f}var d=/require\s*\(\s*(?:"([^"]+)"|'([^']+)')\s*\)/g;return function(e){var f,g,h,i,j,k,l,m,n,o,p;if(f=a.parse(e,{noStringify:!0,interpolateScripts:!1,interpolateStyles:!1}),1!==f.v)throw new Error("Mismatched template version! Please ensure you are using the latest version of Ractive.js in your build process as well as in your app");for(h=[],j=[],l=[],n=[],g=f.t,o=g.length;o--;)p=g[o],p&&7===p.t&&("link"===p.e&&p.a&&"ractive"===p.a.rel&&h.push(g.splice(o,1)[0]),"script"!==p.e||p.a&&p.a.type&&"text/javascript"!==p.a.type||j.push(g.splice(o,1)[0]),"style"!==p.e||p.a&&p.a.type&&"text/css"!==p.a.type||l.push(g.splice(o,1)[0]));for(;/^\s*$/.test(g[0]);)g.shift();for(;/^\s*$/.test(g[g.length-1]);)g.pop();for(i=h.map(function(a){var c,d;if(c=a.a.href,d=a.a.name||b(c),"string"!=typeof d)throw new Error("Error parsing link tag");return{name:d,href:c}}),k=j.map(c).join(";");m=d.exec(k);)n.push(m[1]||m[2]);return{template:f,imports:i,script:k,css:l.map(c).join(" "),modules:n}}}(b),d=function(){function a(a,g){g="function"==typeof g?{callback:g}:g||{},g.sourceURL&&(a+="\n//# sourceURL="+g.sourceURL);try{return d(a)}catch(h){if(f)return void c(a,g.sourceURL||"");throw e&&"SyntaxError"===h.name&&b(a),h}}function b(a){var b,c;b="data:text/javascript;charset=utf-8,"+encodeURIComponent(a),c=document.createElement("script"),c.src=b,c.onload=function(){g.removeChild(c)},g.appendChild(c)}function c(a,b){var c=new h;try{c._compile("module.exports = function () {\n"+a+"\n};",b)}catch(d){return void console.error(d)}c.exports()}var d,e,f,g,h;return d=eval,"undefined"!=typeof document?(e=!0,g=document.getElementsByTagName("head")[0]):"undefined"!=typeof process&&(f=!0,h=(require.nodeRequire||require)("module")),a.Function=function(){var b,c,d,e=[];for(b=arguments.length;b--;)e[b]=arguments[b];return c=e.pop(),d="(function ("+e.join(", ")+") {\n"+c+"\n})",a(d)},a}(),e=function(b,c){return function(d,e,f,g){var h,i,j,k,l,m,n,o,p,q;if(e=e||{},i=e.url||"",k=e.loadImport,m=e.loadModule,h=b(d),j=function(){var b,d,j,k,m,n,o;if(b={template:h.template,partials:h.partials,css:h.css,components:l},h.script){try{if(j=h.script+"\n//# sourceURL="+i.substr(i.lastIndexOf("/")+1)+".js",k=new c.Function("component","require","Ractive",h.script),m={},k(m,e.require,a),n=m.exports,"object"==typeof n)for(o in n)n.hasOwnProperty(o)&&(b[o]=n[o]);d=a.extend(b)}catch(p){return void g(p)}f(d)}else d=a.extend(b),f(d)},o=h.imports.length+(m?h.modules.length:0)){if(p=function(){--o||(q?j():setTimeout(j,0))},h.imports.length){if(!k)throw new Error('Component definition includes imports (e.g. `<link rel="ractive" href="'+h.imports[0].href+'">`) but no loadImport method was passed to rcu.make()');l={},h.imports.forEach(function(a){k(a.name,a.href,i,function(b){l[a.name]=b,p()})})}m&&h.modules.length&&(n={},h.modules.forEach(function(a){m(a,a,i,function(b){n[a]=b,p()})}))}else setTimeout(j,0);q=!0}}(c,d),f=function(a,b){var c,d,e;if(!b||"/"===a.charAt(0))return a;for(c=(b||"").split("/"),d=a.split("/"),c.pop();e=d.shift();)".."===e?c.pop():"."!==e&&c.push(e);return c.join("/")},g=function(b,c,d,e){return{init:function(b){a=b},parse:b,make:c,resolve:d,getName:e}}(c,e,f,b);return g}(),d=function(){var c;return c="function"==typeof XMLHttpRequest?function(b){return new a.Promise(function(a,c){var d,e,f;d=new XMLHttpRequest,d.open("GET",b),e=function(){4!==d.readyState||f||(a(d.responseText),f=!0)},d.onload=d.onreadystatechange=e,d.onerror=c,d.send(),4===d.readyState&&e()})}:function(c){return new a.Promise(function(a,d){b.readFile(c,function(b,c){return b?d(b):void a(c.toString())})})}}(),e={},f=function(b,c,d){function e(d,h,i,j){var k,l;return l=b.resolve(d,"."===d[0]?h:i),j&&g[l]||(k=c(l).then(function(c){return new a.Promise(function(a,d){b.make(c,{url:l,loadImport:function(a,b,c,f){e(b,c,i).then(f,d)},require:f},a,d)})}),g[l]=k),g[l]}function f(a){var b,c;if(b=d.hasOwnProperty(a)?d[a]:h.hasOwnProperty(a)?h[a]:null,!b&&"function"==typeof require)try{b=require(a)}catch(e){if("undefined"==typeof process)throw e;b=require(process.cwd()+"/"+a)}if(!b)throw c=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(a)?"."+a:'["'+a+'"]',new Error('Ractive.load() error: Could not find dependency "'+a+'". It should be exposed as Ractive.lib'+c+" or window"+c);return b}var g={},h="undefined"!=typeof window?window:{};return e}(c,d,e),g=function(b,c){function d(a){return a.getAttribute("name")||b.getName(a.getAttribute("href"))}function e(a){for(var b=[],c=a.length;c--;)b[c]=a[c];return b}return function(b,f){var g=new a.Promise(function(g,h){var i,j;i=e(document.querySelectorAll('link[rel="ractive"]')),j=i.length,i.forEach(function(e){var i=d(e);c(e.getAttribute("href"),b,f).then(function(b){a.components[i]=b,--j||g()},h)})});return g}}(c,f),h=function(b){return function(c,d,e){var f=new a.Promise(function(a,f){var g,h,i=0,j={};h=function(g){var h=c[g];b(h,d,d,e).then(function(b){j[g]=b,--i||a(j)},f)};for(g in c)c.hasOwnProperty(g)&&(i+=1,h(g))});return f}}(f),i=function(b,c,d,e,f){b.init(a);var g=function h(a){var b=h.baseUrl,f=h.cache!==!1;return a?"object"==typeof a?e(a,b,f):d(a,b,b,f):c(b,f)};return g.baseUrl="",g.modules=f,g}(c,g,f,h,e);try{Object.defineProperty(a,"lib",{get:function(){return console&&console.warn&&console.warn("`Ractive.lib` has been deprecated. Use `Ractive.load.modules` as a module registry instead"),i.modules}})}catch(j){}return a.load=i,i});